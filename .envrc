#!/usr/bin/env bash
# --- Ensure Homebrew tools are visible inside direnv (non-interactive shell) ---
case ":$PATH:" in
  *":/opt/homebrew/bin:"*) ;;
  *) export PATH="/opt/homebrew/bin:$PATH" ;;
esac

# --- Create/activate a project-local virtualenv automatically ---
# Uses whichever `python3` is first on PATH (typically Homebrew's).
layout python3

# --- Common, safe developer defaults ---
export PIP_DISABLE_PIP_VERSION_CHECK=1
export PYTHONBREAKPOINT=ipdb.set_trace
export PYTHONDONTWRITEBYTECODE=1   # avoid __pycache__ noise in editable worktrees
export PYTHONWARNINGS=default

# Make local scripts runnable: `./bin/foo.py`
export PATH="$PWD/bin:$PATH"

# --- Load secrets if present (never commit this file) ---
dotenv_if_exists .env.local
